name: Test Release Notes Action
on:
  workflow_dispatch:

jobs:
  test-release-notes:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Generate Release Notes
        id: notes
        uses: ./github-action-release-notes
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          tag-name: "v1.0.0"
          previous-tag: "v0.9.0"
          group-by-label: true

      - name: Display Results
        run: |
          echo "Release Notes Generated:"
          echo "========================"
          cat ${{ steps.notes.outputs.release-notes-file }}
          echo ""
          echo "Statistics:"
          echo "- PR Count: ${{ steps.notes.outputs.pr-count }}"
          echo "- Commit Count: ${{ steps.notes.outputs.commit-count }}"
